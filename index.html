<!DOCTYPE html> 
<html style="margin:0px;"> 
<head>
	<title>Budapest Route Planner</title>
	<meta name='viewport' content='width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no' />
	<link rel="stylesheet" href="style/style.css">
	<script src='scripts/maplibre-gl/maplibre-gl.js'></script>
	<link href='scripts/maplibre-gl/maplibre-gl.css' rel='stylesheet' />
	<script type="text/javascript" charset="utf-8" src="scripts/external/turf.min.js"></script>
	<script type="text/javascript" charset="utf-8" src="scripts/external/jszip.min.js"></script>
	<script type="text/javascript" charset="utf-8" src="scripts/gtfs.js"></script>
	<script type="text/javascript" charset="utf-8" src="scripts/style.js"></script>
	<script type="text/javascript" charset="utf-8" src="scripts/local.js"></script>
	<script type="text/javascript" charset="utf-8" src="scripts/route_ui.js"></script>
	<script>
		var map, routeUI;
		var gtfs, gtfsRoutes;

		function onLoad()
		{
			map = new maplibregl.Map({
				container: 'map',
				style: style,
				center: [19.06086, 47.52918],
				zoom: 15,
				hash: true
			});
			map.addControl(new maplibregl.FullscreenControl({ container: document.querySelector('body') }));
			map.addControl(new maplibregl.NavigationControl());
			map.addControl(new maplibregl.GeolocateControl({
				positionOptions: { enableHighAccuracy: true },
				trackUserLocation: true
			}).on('geolocate', (e) => {
				console.log('geolocate', e);
			}));

			routeUI = new RouteUI(map);
			routeUI.addMarkerOnClick();
			routeUI.addLinesTest();
			routeUI.addLinesTest();
			routeUI.addLinesTest();
			setInterval(function(){routeUI.addLinesTest()}, 1000);
		}
	</script>
</head>
	<body onload="onLoad();"> 
		<div id="map"></div>
		<pre id="coordinates"></pre>
	</body>
</html>